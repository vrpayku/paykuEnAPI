openapi: 3.0.0
servers:
  - url: 'https://app.payku.cl/'
    description: Default server
  - url: 'https://des.payku.cl/'
    description: Sandbox server
info:
  description: |
    
    # Introduction
    Welcome to the Payku API. You can use our API to access the different
    Payku endpoints, where you can generate and manage payments through different
    methods and get information from them.

    The API is organized around REST. It has predictable URLs and resource-oriented,
    and uses HTTP response codes to indicate the result of the call. All API 
    responses return objects JSON, including errors.

    User should look for a 200 result code. If received any result code other 
    than 200, the request, or the response is invalid, which means that the fields 
    did not pass the checks of validation from payku. We use features included in
    the HTTP protocol, such as authentication, which are supported by the most HTTP 
    clients.

    # Authentication
    Payku uses Token Based Authentication over HTTPS for authentication. To have 
    access to our API, access your account in the section of Integration you will 
    find the option of integration and API tokens. The request Unauthenticated or 
    incorrect will return an Invalid token response.

    # API Security 
    Each request is required to have included in the header:
      - Authorization: Bearer **TOKEN-PÚBLICO**

    # Signature
    In the case of the subscription API, an additional layer of security was added 
    through of a signature that is sent in the request header, to obtain said signature
    is necessary the following:
    
    The Request Path must be concatenated in url format along with all the request 
    parameters, which must be ordered alphabetically by key, such that key = value. 
    Therefore, if the client email value is "example@domain.com" the correct format 
    would be "example% 40domain.com" and then concatenated with the character '&'.

    Once the character sets are ordered and concatenated, the hash is calculated 
    using the HMAC function with encryption type sha256, and the private token.

    # Errors
    Payku uses conventional HTTP responses to indicate the success or failure of a request.
    In general, codes in the 2xx range indicate success, codes in the 4xx range indicate
    an error that failed due to the information provided (ex: a required parameter was
    skipped, a payment failed, etc.), and codes in the 5xx range indicate an error with
    Payku servers (these are rare).

    ## Error codes
    <div class="errorContent">
    <table>
      <tbody>
        <tr>
          <td style="text-align: right"><strong class="errorTitle">400</strong>
            <p class="psmall">Bad Request</p>
          </td>
          <td class="errorDescription">There is a problem with your request</td>
        </tr>
        <tr>
          <td style="text-align: right"><strong class="errorTitle">401</strong>
            <p class="psmall">Unauthorized</p>
          </td>
          <td class="errorDescription">Your token is incorrect</td>
        </tr>
        <tr>
          <td style="text-align: right"><strong class="errorTitle">403</strong>
            <p class="psmall">Forbidden</p>
          </td>
          <td class="errorDescription">You do not have permission to view this page</td>
        </tr>
        <tr>
          <td style="text-align: right"><strong class="errorTitle">404</strong>
            <p class="psmall">Not Found</p>
          </td>
          <td class="errorDescription">The specified resource was not found</td>
        </tr>
        <tr>
          <td style="text-align: right"><strong class="errorTitle">405</strong>
            <p class="psmall">Method Not Allowed</p>
          </td>
          <td class="errorDescription">You tried to enter a resource with an invalid method</td>
        </tr>
        <tr>
          <td style="text-align: right"><strong class="errorTitle">406</strong>
            <p class="psmall">Not Acceptable</p>
          </td>
          <td class="errorDescription">You requested a format other than JSON</td>
        </tr>
        <tr>
          <td style="text-align: right"><strong class="errorTitle">410</strong>
            <p class="psmall">Gone</p>
          </td>
          <td class="errorDescription">The requested resource was removed from our servers</td>
        </tr>
        <tr>
          <td style="text-align: right"><strong class="errorTitle">422</strong>
            <p class="psmall">Unprocessable Entity</p>
          </td>
          <td class="errorDescription">We cannot process your request, please review it.</td>
        </tr>
        <tr>
          <td style="text-align: right"><strong class="errorTitle">429</strong>
            <p class="psmall">Too Many Requests</p>
          </td>
          <td class="errorDescription">You are requesting a lot of resources! Stop!</td>
        </tr>
        <tr>
          <td style="text-align: right"><strong class="errorTitle">500</strong>
            <p class="psmall">Internal Server Error</p>
          </td>
          <td class="errorDescription">We had a problem with our server. Please try again later.</td>
        </tr>
        <tr>
          <td style="text-align: right"><strong class="errorTitle">503</strong>
            <p class="psmall">Service Unavailable</p>
          </td>
          <td class="errorDescription">We are offline for maintenance. Please try again later.</td>
        </tr>
      </tbody>
    </table>
    </div>

    # API access
    If you have a payku account, you can access the REST API through the following endpoints:
    
    <div class="content">
      <table class="center">
        <thead>
          <tr>
            <th style="text-align:center;"><strong>Site</strong></th>
            <th style="text-align:center;"><strong>BASE URL FOR REST ENDPOINT</strong></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Production</strong></td>
            <td align="center"><a href="https://app.payku.cl/api">https://app.payku.cl/api</a></td>
          </tr>
          <tr>
            <td><strong>Sandbox</strong></td>
            <td><a href="https://des.payku.cl/api">https://des.payku.cl/api</a></td>
          </tr>
        </tbody>
      </table>
    </div>

    -	Production: provides direct access to generate actual transactions.
    - Sandbox: allows you to test your integration without affecting the actual data.

  version: "1.0.0"
  title: Payku API
  termsOfService: "https://payku.cl/legal/"
  contact:
    email: contacto@payku.cl
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
  x-logo:
    url: 'https://storage.googleapis.com/storage-payku-prd/public/img/payku2020_2.svg'
tags:
  - name: Transaction
    description: It allows the creation of transactions and later check their status.
  - name: Marketplace
    description: It allows the registration of clients, to later carry out the distribution according to the assigned percentage.
  - name: Subscription
    description: It allows the linking of a plan to Clients, to later make recurring charges automatically, as defined in each plan.
  - name: Event
    description: It allows the creation of events and later check their status.
  
paths:
  /api/suclient:
    post:
      tags:
        - Subscription
      summary: Insert data to a Client
      description: This method allows the insertion of Client data.
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdminClientResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X POST \
            https://BASE_URL/api/suclient \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
            -d {     
                "email": "joedoe@gmail.com",
                "name": "Joe Doe",
                "phone": "923122312",
                "address": "Moneda 101",
                "country": "Chile",
                "region": "Metropolitana",
                "city": "Santiago",
                "postal_code": "850000
              }'
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('POST', 'https://[base URL]/api/suclient', [
                'json' => [                
                  'email' => 'joedoe@gmail.cl', 
                  'name' => 'Joe Doe', 
                  'phone' => '923122312', 
                  'address' => 'Moneda 101', 
                  'country' => 'Chile', 
                  'region' => 'Metropolitana', 
                  'city' => 'Santiago', 
                  'postal_code' => '850000',
                  ],  
                'headers' => [                 
                  'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body); 
        - lang: 'JS'
          source: |
            const request = async (data) => {
              const response = await fetch('https://des.payku.cl/api/suclient', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
                body: JSON.stringify(data)
              });
              const result = await response.json();
              console.log(result)
            }

            let data = {
              email: "joedoe@gmail.com",
              name: "Joe Doe",
              phone: "923122312",
              address: "Moneda 101",
              country: "Chile",
              region: "Metropolitana",
              city: "Santiago",
              postal_code: "850000"
            };

            request(data);
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  description: Client email.
                  type: string
                  format: email
                  example: joedoe@gmail.com
                name:
                  description: Client name
                  type: string
                  example: "Joe Doe"
                phone:
                  description: Client phone.
                  type: string
                  example: "923122312"
                address:
                  description: Client address.
                  type: string
                  example: "Moneda 101"
                country:
                  description: Client country.
                  type: string
                  example: "Chile"
                region:
                  description: Client region.
                  type: string
                  example: "Metropolitana"
                city: 
                  description: Client city.
                  type: string
                  example: "Santiago"
                postal_code:
                  description: Client Zip Code.  
                  type: string
                  example: "850000"
              required:
                - email
                - name
                - phone

  /api/suclient/{idClient}:
    get:
      tags:
        - Subscription
      summary: Query Client data
      description: This method allows obtaining the details of a client.
      operationId: getClientById
      parameters:
        - name: id
          in: path
          description: Unique transaction identifier per payku.
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClientIdResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400Event'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X GET \
            https://BASE_URL/api/suclient/id \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('GET', 'https://[base URL]/api/suclient/cla90927fa9b30e1dfffa0', [                    
                'headers' => [                 
                  'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async () => {
              const response = await fetch('https://des.payku.cl/api/suclient/cla90927fa9b30e1dfffa0', {
                method: 'GET',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request(data);

    put:
      tags:
        - Subscription
      summary: Update Client data
      description: This method allows updating a Client's data.
      operationId: putSuscriptionById
      parameters:
        - name: id
          in: path
          description: Unique transaction identifier per payku.
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ModifyClientResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X PUT \
            https://BASE_URL/api/suclient/id \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
            -d {     
                "email": "joedoe@gmail.com",
                "name": "Joe Doe Doe",
                "phone": "923122312",
                "address": "Moneda 121",
                "country": "Chile",
                "region": "Metropolitana",
                "city": "Santiago",
                "postal_code": "750000"
              }'
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('PUT', 'https://[base URL]//api/suclient/cla90927fa9b30e1dfffa0', [             
                'json' => [          
                  'email' => joedoe@gmail.com, 
                  'name' => 'Joe Doe Doe', 
                  'phone' => '923122312', 
                  'address' => 'Moneda 121', 
                  'country' => 'Chile', 
                  'region'  => 'Metropolitana', 
                  'city'    => 'Santiago', 
                  'postal_code' => '750000',
                ],  
              ],             
              'headers' => [                 
                'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
              ]           
            ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async (data) => {
              const response = await fetch('https://des.payku.cl/api/suclient', {
                method: 'PUT',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
                body: JSON.stringify(data)
              });
              const result = await response.json();
              console.log(result)
            }

            let data = {
              email: "joedoe@gmail.com",
              name: "Joe Doe Doe",
              phone: "923122312",
              address: "Moneda 121",
              country: "Chile",
              region: "Metropolitana",
              city: "Santiago",
              postal_code: "750000"
            };

            request(data);
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  description: Client email.
                  type: string
                  format: email
                  example: joedoe@gmail.com
                name:
                  description: Client name
                  type: string
                  example: "Joe Doe Doe"
                phone:
                  description: Client phone.
                  type: string
                  example: "923122312"
                address:
                  description: Client address.
                  type: string
                  example: "Moneda 121"
                country:
                  description: Client country.
                  type: string
                  example: "Chile"
                region:
                  description: Client region.
                  type: string
                  example: "Metropolitana"
                city: 
                  description: Client city.
                  type: string
                  example: "Santiago"
                postal_code:
                  description: Client Zip Code.  
                  type: string
                  example: "750000"

    delete:
      tags:
        - Subscription
      summary: Delete Client
      description: This method allows the elimination of a client associated with a user id.
      operationId: deleteClientById
      parameters:
        - name: id
          in: path
          description: Unique transaction identifier per payku.
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteClientResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X DELETE \
            https://BASE_URL/api/suclient/id \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('DELETE', 'https:// [base URL]/api/suclient/cla90927fa9b30e1dfffa0', [             
                  'headers' => [                 
                    'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                    'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              ]           
                  ])->getBody();           
                $response = json_decode($body); 
        - lang: 'JS'
          source: |
            const request = async () => {
              const response = await fetch('https://des.payku.cl/api/suclient/cla90927fa9b30e1dfffa0', {
                method: 'DELETE',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request(data);

  /api/suclient/Clients:
    get:
      tags:
        - Subscription
      summary: Get all Clients
      description: This method allows to obtain all Clients.
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ModifyClientResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X GET \
            https://BASE_URL/api/suclient/Clients \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('GET', 'https://[base URL]/api/suclient/Clients', [                      
                'headers' => [                 
                  'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async () => {
              const response = await fetch('https://des.payku.cl/api/suclient/Clients', {
                method: 'GET',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request(data);

  /api/sususcription:
    post:
      tags:
        - Subscription
      summary: Insert data for subscription
      description: This method allows the insertion of data for a subscription.
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateSuscriptionResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X POST \
            https://BASE_URL/api/sususcription \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
            -d {     
                "plan": "pl9697fb170834ad42dd00",
                "client": "cl9b1e1dd988694f30fa30"
              }'
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('POST', 'https://[base URL]/api/ sususcription, [             
                'json' => [                
                  'plan' => 'pl9697fb170834ad42dd00', 
                  'client' => ' cl9b1e1dd988694f30fa30',
                  ], 
                  'headers' => [                 
                    'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                    'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                  ]           
                ])->getBody();           
              $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async (data) => {
              const response = await fetch('https://des.payku.cl/api/sususcription', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
                body: JSON.stringify(data)
              });
              const result = await response.json();
              console.log(result)
            }

            let data = {
              plan: "pl9697fb170834ad42dd00",
              client: "cl9b1e1dd988694f30fa30",
            };

            request(data);
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                plan:
                  description: Plan id.
                  type: string
                  example: pl9697fb170834ad42dd00
                client:
                  description: Client id.
                  type: string
                  example: cl9b1e1dd988694f30fa30
              required:
                - plan
                - client

  /api/sutransaction:
    post:
      tags:
        - Subscription
      summary: Insert data for the transaction
      description: This method allows the insertion of data for a transaction.
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateSuTransactionResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X POST \
            https://BASE_URL/api/sutransaction \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
            -d {     
                "suscription": "sucaab7865dceaff49d8b3",
                "amount": "10000",
                "order": "001",
                "description": "Descripción"
              }'
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('POST', 'https://[base URL]/api/sutransaction, [             
                'json' => [                
                  'suscription' => sucaab7865dceaff49d8b3, 
                  'order' => '001', 
                  'monto' => '10000', 
                  'description' => ' descripcion'
                  ], 
                  'headers' => [                 
                    'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                    'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                  ]           
                ])->getBody();           
              $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async (data) => {
              const response = await fetch('https://des.payku.cl/api/sutransaction', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
                body: JSON.stringify(data)
              });
              const result = await response.json();
              console.log(result)
            }

            let data = {
              suscription: "sucaab7865dceaff49d8b3",
              amount: "10000",
              order: "001",
              description: "Descripción"
            };

            request(data);
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                suscription:
                  description: Unique subscription identifier for payku.
                  type: string
                  example: sucaab7865dceaff49d8b3
                amount:
                  description: Amount.
                  type: string
                  example: "10000"
                order:
                  description: Order.
                  type: string
                  example: "001"
                description:
                  description: Description.
                  type: string
                  example: Descripción
              required:
                - suscription

  /api/sususcription/{idSuscription}:
    get:
      tags:
        - Subscription
      summary: Check subscription data
      description: This method allows you to get the details of a subscription.
      operationId: getSuscriptionById
      parameters:
        - name: id
          in: path
          description: Unique transaction identifier per payku.
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuscriptionIdResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400Event'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X GET \
            https://BASE_URL/api/sususcription/id \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('GET', 'https://[base URL]/api/sususcription/sucaab7865dceaff49d8b', [                          
                'headers' => [                 
                  'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async () => {
              const response = await fetch('https://des.payku.cl/api/sususcription/sucaab7865dceaff49d8b', {
                method: 'GET',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request(data);
    delete:
      tags:
        - Subscription
      summary: Remove subscription
      description: This method allows the removal of a subscription associated with a subscription id.
      operationId: deleteSuscriptionById
      parameters:
        - name: id
          in: path
          description: Unique transaction identifier per payku.
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteSuscriptionResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X DELETE \
            https://BASE_URL/api/sususcription/id \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('DELETE', 'https:// [base URL]/api/sususcription/sucaab7865dceaff49d8b3, [                          
                  'headers' => [                 
                    'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                    'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              ]           
                  ])->getBody();           
                $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async () => {
              const response = await fetch('https://des.payku.cl/api/sususcription/sucaab7865dceaff49d8b', {
                method: 'DELETE',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request(data); 

  /api/suinscriptionscards:
    post:
      tags:
        - Subscription
      summary: Affiliate card to subscription
      description: This method allows the insertion of the data of a card for subscription.
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CardSuscriptionResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X POST \
            https://BASE_URL/api/suinscriptionscards \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
            -d {     
                "id": "sucaab7865dceaff49d8b3"
              }'
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('POST', 'https:// [base URL]/api/suinscriptionscards', [             
                'json' => [       
                  'id' => sucaab7865dceaff49d8b3,             
                  ],             
                  'headers' => [                 
                    'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                    'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              ]           
                  ])->getBody();           
                $response = json_decode($body); 
        - lang: 'JS'
          source: |
            const request = async (data) => {
              const response = await fetch('https://des.payku.cl/api/suinscriptionscards', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
                body: JSON.stringify(data)
              });
              const result = await response.json();
              console.log(result)
            }

            let data = {
              id: "sucaab7865dceaff49d8b3"
            };

            request(data);
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  description: Subscription ID.
                  type: string
                  example: sucaab7865dceaff49d8b3
              required:
                - id

  /api/suplan:
    post:
      tags:
        - Subscription
      summary: Insert the data of a plan.
      description: This method allows the insertion of data for the creation of a plan.
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlanResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X POST \
            https://BASE_URL/api/suplan \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
            -d {     
                "name": "Test plan",
                "description": "Test Plan"
              }'
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('POST', 'https:// [base URL]/api/suplan', [             
                'json' => [       
                  'name' => 'Test plan',    
                  'description' => 'Test Plan'         
                  ],             
                  'headers' => [                 
                    'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                    'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              ]           
                  ])->getBody();           
                $response = json_decode($body); 
        - lang: 'JS'
          source: |
            const request = async (data) => {
              const response = await fetch('https://des.payku.cl/api/suplan', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
                body: JSON.stringify(data)
              });
              const result = await response.json();
              console.log(result)
            }

            let data = {
              name: "Test plan",
              description: "Test Plan"
            };

            request(data);
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  description: Plan name.
                  type: string
                  example: Test plan 
                description:
                  description: Plan description.
                  type: string
                  example: Test Plan
              required:
                - name

  /api/suplan/{idPlan}:
    get:
      tags:
        - Subscription
      summary: Check plan data
      description: This method allows to obtain the details of a plan.
      operationId: getPlanById
      parameters:
        - name: id
          in: path
          description: Unique plan identifier per payku.
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlanIdResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400Event'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X GET \
            https://BASE_URL/api/suplan/id \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('GET', 'https://[base URL]/api/suplan/pl29f6ad69fbd594148c39', [                    
                'headers' => [                 
                  'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async () => {
              const response = await fetch('https://des.payku.cl/api/suplan/pl29f6ad69fbd594148c39', {
                method: 'GET',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request(data);

  /api/suplan/plans:
    get:
      tags:
        - Subscription
      summary: Check data from all plans
      description: This method allows to obtain the details of all the plans.
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlanAllResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400Event'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X GET \
            https://BASE_URL/api/suplan/plans \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Sign: SIGN  \  
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('GET', 'https://[base URL]/api/suplan/plans', [                       
                'headers' => [                 
                  'Sign' => '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async () => {
              const response = await fetch('https://des.payku.cl/api/suplan/plans', {
                method: 'GET',
                headers: {
                  'Content-Type': 'application/json',
                  'Sign': '0d04820b87c80f79a89235fcd256d9b6cddee2fc15fa50034c1903370f3de8c6',                 
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request(data);

  /api/transaction:
    post:
      tags:
        - Transaction
      summary: Generate a transaction
      description: This method allows to create a payment order to **Payku** and receives as a response the **URL** to redirect the payer's browser and the **token** that identifies the transaction.
                    Once the payer makes the successful payment, **Payku** will notify the result to the page of the business that was sent in the **urlnotify** parameter.
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransactionResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'cURL'
          source: |
            curl -X POST \
            https://BASE-URL/api/transaction \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Authorization: Bearer TOKEN-PUBLICO \
            -H 'Content-Type: application/json,application/json' \
            -H 'Host: BASE-URL \
            -d '{
              "email": "test@domain.com",
              "order": 5696
              "subject": "Cliente Test",
              "amount": 5696,
              "payment": 1,
              "urlreturn": "https://you_web_site/urlreturn",
              "urlnotify": "https://you_web_site/urlnotify"
            }'
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('POST', 'https://[base URL]/api/transaction', [
                'json' => [                
                  'email' => 'joedoe@gmail.cl', 
                  'order' => 98745, 
                  'subject' => 'Client Test',
                  'amount' => 25000,  
                  'payment' => 1, 
                  'urlreturn' => 'https://you_web_site/urlreturn',
                  'urlnotify' => 'https://you_web_site/urlnotify'
                  ],  
                'headers' => [                                  
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async (data) => {
              const response = await fetch('https://des.payku.cl/api/transaction', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',                 
                  'Authorization': 'Bearer 3952097d617679f98c587bad0b3a781d'  
                },
                body: JSON.stringify(data)
              });
              const result = await response.json();
              console.log(result)
            }

            let data = {
              email: "joedoe@gmail.com",
              order: 98745,
              subject: "test subject",
              amount: 25000,
              payment: 1,
              urlreturn: "https://you_web_site/urlreturn",
              urlnotify: "https://you_web_site/urlnotify"
            };

            request(data);
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  description: Client email.
                  type: string
                  format: email
                  example: joedoe@gmail.com
                order:
                  description: Trade order.
                  type: integer
                  example: 98745
                subject:
                  description: Description of the order.
                  type: string
                  example: test subject
                amount:
                  description: Order amount.
                  type: integer
                  example: 25000
                payment:
                  description: |
                    Identifier of the payment method. If the identifier is sent, the payer will be redirected directly to the indicated means of payment.
                    - 1 Webpay
                    - 2 Kiphu
                    - 3 Multicaja Efectivo
                    - 4 Multicaja Transferencia
                    - 5 Onepay
                    - 6 Pago46
                    - 7 Sweetpay
                    - 9 Mach
                    - 99 Todos
                  type: integer
                  example: 1
                urlreturn:
                  description: return url of the trade where payku will redirect the payer.
                  type: string
                  format: url
                  example: https://you_web_site/urlreturn
                urlnotify: 
                  description: Callback url of the business where payku will notify the payment.
                  type: string
                  format: url
                  example: https://you_web_site/urlnotify
              required:
                - email
                - order
                - subject
                - amount

  /api/transaction/{idTrasaction}:
    get:
      tags:
        - Transaction
      summary: 'Get status of a payment'
      description: 'This method allows you to obtain the information of a payment made in **Payku**'
      operationId: getTransactionById
      parameters:
        - name: id
          in: path
          description: id of the transaction to request
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IdentifierResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400get'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
        '404':
          description: Identifier does not exist.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error404'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X GET \
            https://BASE-URL/api/transaction/ID-IDENTIFICADOR  \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Authorization: Bearer TOKEN-PUBLICO' \
            -H 'Content-Type: application/json,application/json' \
            -H 'Host: BASE-URL ' \
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('GET', 'https://[base URL]/api/transaction/10ac494c1d8da71d98ea', [
                'headers' => [                                  
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async () => {
              const response = await fetch('https://des.payku.cl/api/transaction/10ac494c1d8da71d98ea', {
                method: 'GET',
                headers: {
                  'Content-Type': 'application/json',                 
                  'Authorization': 'Bearer 3952097d617679f98c587bad0b3a781d'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request();

  /api/verificar:
    post:
      tags:
        - Transaction
      summary: 'url Callback'
      description: |
        After the payment has been made by the user, payku will notify the merchant, the result of the operation (status), invoking the urlnotify previously provided in the creation of the payment and in turn will deliver a series of data for internal validations by the application of the trade, such as the order for the transaction to be identified in your system, the transaction_id which corresponds to the unique identifier in payku and a verification_key, which corresponds to a unique validation hash per transaction.
         These data will allow the merchant to develop an automatic call to the validation method in payku called "verify", which is designed to certify the origin of the invocation of the method and thus rule out any alteration of the data or attempted fraud.
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VerificationResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                transaction_id:
                  description: Unique identifier of transaction by Payku.
                  type: number
                  example: 9123123
                verification_key:
                  description: Unique transaction hash.
                  type: string
                  example: 2ba83615f863e72sdca5dfd0a6df2782
                order:
                  description: Unique transaction identifier sent by the merchant.
                  type: string
                  example: 1568041684
              required:
              - transaction_id
              - verification_key
              - order

  /api/event:
    post:
      tags:
        - Event
      summary: Create an event
      description: This method allows you to create an event and receive the event details as a response.
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EventCreateResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400Event'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X POST \
              https://BASE_URL/api/event \
              -H 'Accept: application/json, text/plain, */*' \
              -H 'Authorization: Bearer TOKEN_PUBLICO  \   
              -H 'Content-Type: application/json,application/json' \   
              -H 'Host: BASE_URL' \   
              -d {     
                "name": "Event",     
                "event": "98374",     
                "date_event": "2020-12-20",     
                "date_payment": "2020-12-22",     
                "date_closing_sales": "2020-12-19 23:59:00",     
                "url_logo": "https://example.cl/logo_event1.png",     
                "url_event": "https://payku.cl/event1",     
                "service_sale": 10,     
                "affiliation": [
                  ["afiliate1@gmail.com",  50], 
                  ["afiliate2@gmail.com",  50]
                ] 
              }'
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('POST', 'https://[base URL]/api/event', [
                'json' => [                
                    'name' => 'Event',     
                    'event' => '98374',     
                    'date_event' => '2020-12-20',     
                    'date_payment' => '2020-12-22',     
                    'date_closing_sales' => '2020-12-19 23:59:00',     
                    'url_logo' => 'https://example.cl/logo_event1.png',     
                    'url_event' => 'https://payku.cl/event1',     
                    'service_sale' => 10,     
                    'affiliation' => [
                      ['afiliate1@gmail.com',  50], 
                      ['afiliate2@gmail.com',  50]
                    ]
                  ],  
                'headers' => [                                  
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async (data) => {
              const response = await fetch('https://des.payku.cl/api/event', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',                 
                  'Authorization': 'Bearer 3952097d617679f98c587bad0b3a781d'  
                },
                body: JSON.stringify(data)
              });
              const result = await response.json();
              console.log(result)
            }

            let data = {
              name: "Event",     
              event: "98374",     
              date_event: "2020-12-20",     
              date_payment: "2020-12-22",     
              date_closing_sales: "2020-12-19 23:59:00",     
              url_logo: "https://example.cl/logo_event1.png",     
              url_event: "https://payku.cl/event1",     
              service_sale: 10,     
              affiliation: [
                ["afiliate1@gmail.com",  50], 
                ["afiliate2@gmail.com",  50]
              ]
            };

            request(data);
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                event:
                  description: Event id.
                  type: string
                  example: "98374"
                name:
                  description: Event name.
                  type: string
                  example: "Event"
                date_event:
                  description: Date on which the event will take place.
                  type: datetime
                  example: "2020-12-20"
                date_closing_event:
                  description: Sales closing date, must be less than or equal to date_event.
                  type: datetime
                  example: "2020-12-19 23:59:00"
                date_payment:
                  description: Payment date of the event, must be greater than the date_event date.
                  type: datetime
                  example: "2020-12-20"
                url_event:
                  description: url where the event is published.
                  type: string
                  format: url
                  example: https://example.cl/event1
                url_logo:
                  description: url of the logo that identifies the event.
                  type: string
                  format: url
                  example: https://example.cl/logo_event1.png
                service_sale:
                  description: Amount of the sales service, belongs to the amount that the owner of the account will receive per transaction.
                  type: integer
                  example: 10
                affiliaction:
                  type: array
                  description: Distribution of beneficiaries.
                  items:
                    type: object
                    description: Collection object for a collection batch.
                    properties:
                      email:
                        type: string
                        description: Beneficiary email.
                        example: "afiliate1@domain.com"
                      percent:
                        type: number
                        description: Percentage which corresponds to the beneficiary.
                        example: "100"
              required:
              - event
              - name
              - date_event
              - date_closing_event
              - date_payment
    
  /api/event/{idEvent}:
    get:
      tags:
        - Event
      summary: Get event details
      description: This method allows obtaining the details of an event.
      operationId: getEventById
      parameters:
        - name: id
          in: path
          description: id of the event to request
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EventIdResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400Event'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X GET \
              https://BASE_URL/api/event \
              -H 'Accept: application/json, text/plain, */*' \
              -H 'Authorization: Bearer TOKEN_PUBLICO  \   
              -H 'Content-Type: application/json,application/json' \   
              -H 'Host: BASE_URL' \   
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('GET', 'https://[base URL]/api/event/98374', [  
                'headers' => [                                  
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async (data) => {
              const response = await fetch('https://des.payku.cl/api/event/98374', {
                method: 'GET',
                headers: {
                  'Content-Type': 'application/json',                 
                  'Authorization': 'Bearer 3952097d617679f98c587bad0b3a781d'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request(data);

  /api/maclient:
    post:
      tags:
        - Marketplace
      summary: Inserting a client
      description: This method allows the insertion of client data.
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdminClientMarketResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X POST \
            https://BASE_URL/api/maclient \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
            -d {     
                "email": "joedoe@gmail.com",
                "name": "Joe Doe",
                "phone": "923122312",
                "bank": {
                  "sbif": "1234",
                  "type": "1",
                  "num": "12312313121",
                  "rut": "111111111"
                }
              }'
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('POST', 'https://[base URL]/api/maclient', [
                'json' => [                
                  'email' => 'joedoe@gmail.com', 
                  'name' => 'Joe Doe', 
                  'phone' => '923122312', 
                  'bank' => [
                    "sbif" => "0001 ",
                    "type" => "1",
                    "num" => "1231123567",
                    "rut" => "111111111",
                  ]
                ],  
                'headers' => [                 
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async (data) => {
              const response = await fetch('https://des.payku.cl/api/maclient', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',              
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
                body: JSON.stringify(data)
              });
              const result = await response.json();
              console.log(result)
            }

            let data = {
              email: "joedoe@gmail.com",
              name: "Joe Doe",
              phone: "923122312",
              bank: {
                sbif: "1234",
                type: "1",
                num: "12312313121",
                rut: "111111111"
              }
            };

            request(data); 
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  description: Client email.
                  type: string
                  format: email
                  example: joedoe@gmail.com
                name:
                  description: Client name
                  type: string
                  example: "Joe Doe"
                phone:
                  description: Client phone.
                  type: string
                  example: "923122312"
                bank:
                  type: object
                  properties:
                    sbif:
                      description: Bank code.
                      type: string
                      example: "1234"
                    type:
                      description: Account type.(1 = Checking account , 2 = Vista/Cuenta RUT, 3 = Saving account)
                      type: string
                      example: "1"
                    num:
                      description: Client's account number.
                      type: string
                      example: "12312313121"
                    rut: 
                      description: Single Tax Registry.
                      type: string
                      example: "111111111"
                  required:
                    - sbif
                    - type
                    - num
                    - rut
              required:
                - email
                - name
                - phone
                - bank

  /api/maclient/{idClient}:
    get:
      tags:
        - Marketplace
      summary: Query client data
      description: This method allows obtaining the details of a client.
      operationId: getClientMarketById
      parameters:
        - name: id
          in: path
          description: Unique identifier per payku.
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdminClientMarketResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400Event'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X GET \
            https://BASE_URL/api/maclient/id \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('GET', 'https://[base URL]/api/maclient/madb93fc00a2cf6f4449', [                    
                'headers' => [                    
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async () => {
              const response = await fetch('https://des.payku.cl/api/maclient/madb93fc00a2cf6f4449', {
                method: 'GET',
                headers: {
                  'Content-Type': 'application/json',              
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request();
    delete:
      tags:
        - Marketplace
      summary: Delete client
      description: This method allows the removal of a client associated with an id.
      operationId: getClientDeleteById
      parameters:
        - name: id
          in: path
          description: Unique customer identifier per payku.
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteClientMarketResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X DELETE \
            https://BASE_URL/api/maclient/id \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('DELETE', 'https:// [base URL]/api/maclient/madb93fc00a2cf6f4449', [                 
                  'headers' => [                                 
                    'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              ]           
                  ])->getBody();           
                $response = json_decode($body); 
        - lang: 'JS'
          source: |
            const request = async () => {
              const response = await fetch('https://des.payku.cl/api/maclient/madb93fc00a2cf6f4449', {
                method: 'DELETE',
                headers: {
                  'Content-Type': 'application/json',              
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request();

  /api/maaffiliation:
    post:
      tags:
        - Marketplace
      summary: Manage Memberships
      description: This method allows you to register the data for membership.
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdminAffiliationResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X POST \
            https://BASE_URL/api/maaffiliation \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
            -d {     
                "name": "name",
                "percentage": "20",
                "affiliation": [
                  {
                    "id": "ma9fd16221a9645b0036",
                    "percentage": "80"
                  }
                ]
              }'
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('POST', 'https://[base URL]/api/maclient', [
                'json' => [                
                  'name' => 'name', 
                  'percentage' => '20',  
                  'affiliation' => [
                    [ma9fd16221a9645b0036,80]
                  ]
                ],  
                'headers' => [                                
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body); 
        - lang: 'JS'
          source: |
            const request = async (data) => {
              const response = await fetch('https://des.payku.cl/api/maaffiliation', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',              
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
                body: JSON.stringify(data)
              });
              const result = await response.json();
              console.log(result)
            }

            let data = {
              name: "name",
              percentage: "20",
              affiliation: [
                {
                  id: "ma9fd16221a9645b0036",
                  percentage: "80"
                }
              ]
            };

            request(data);
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  description: Membership name.
                  type: string
                  example: name
                percentage:
                  description: Percentage corresponding to the payku user.
                  type: string
                  example: "20"
                affiliation:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        description: Client identifier created by payku.
                        type: string
                        example: "ma9fd16221a9645b0036"
                      percentage:
                        description: Percentage.
                        type: string
                        example: "80"
                    required:
                      - id
                      - percentage
              required:
                - name
                - percentage
                - affiliation

  /api/maaffiliation/{idClient}:
    get:
      tags:
        - Marketplace
      summary: Check membership data
      description: This method allows you to obtain the details of an membership.
      operationId: getAffiliationById
      parameters:
        - name: id
          in: path
          description: Unique membership identifier for payku.
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdminAffiliationResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400Event'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X GET \
            https://BASE_URL/api/maaffiliation/id \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('GET', 'https://[base URL]/api/maaffiliation/sucaab7865dceaff49d8b3', [                    
                'headers' => [                                  
                  'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              
                ]           
              ])->getBody();           
            $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async () => {
              const response = await fetch('https://des.payku.cl/api/maaffiliation/sucaab7865dceaff49d8b3', {
                method: 'GET',
                headers: {
                  'Content-Type': 'application/json',              
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request();
  
    delete:
      tags:
        - Marketplace
      summary: Remove membership
      description: This method allows the removal of an membership associated with an id.
      operationId: getAffiliationDeleteById
      parameters:
        - name: id
          in: path
          description: Unique client identifier per payku.
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteAffiliationResponse'
        '400':
          description: Request failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error400'
        '401':
          description: Incorrect public token.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error401'
      x-codeSamples:
        - lang: 'CURL'
          source: |
            curl -X DELETE \
            https://BASE_URL/api/maaffiliation/id \
            -H 'Accept: application/json, text/plain, */*' \
            -H 'Authorization: Bearer TOKEN_PUBLICO  \   
            -H 'Content-Type: application/json,application/json' \   
            -H 'Host: BASE_URL' \   
        - lang: 'PHP'
          source: |
            $client = new \GuzzleHttp\Client();         
              $body = $client->request('DELETE', 'https:// [base URL]/api/maclient/madb93fc00a2cf6f4449', [                 
                  'headers' => [                                  
                    'Authorization' => 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'              ]           
                  ])->getBody();           
                $response = json_decode($body);
        - lang: 'JS'
          source: |
            const request = async () => {
              const response = await fetch('https://des.payku.cl/api/maaffiliation/sucaab7865dceaff49d8b3', {
                method: 'DELETE',
                headers: {
                  'Content-Type': 'application/json',              
                  'Authorization': 'Bearer 8c872egfdg996f8b418c872e996f8b418c872e996f8b41'  
                },
              });
              const result = await response.json();
              console.log(result)
            }

            request();

components:
  schemas:
    AdminClientResponse:
      description: "Return data from a client insert"
      type: object
      properties:
        status:
          description: Client status.  
          type: string
          example: "active"
        id:
          type: string
          description: Identifier of the transaction created by payku. 
          example: 'cl0be4c8e623c167bc8b29'
        name:
          type: string
          description: Client name. 
          example: 'Joe Doe'
        phone:
          type: string
          description: Client phone. 
          example: "923122312"
        email:
          type: string
          description: Client email. 
          example: "joedoe@gmail.com"
        address:
          description: Client address.
          type: string
          example: "Moneda 101"
        country:
          description: Client country.
          type: string
          example: "Chile"
        region:
          description: Client region.
          type: string
          example: "Metropolitana"
        city: 
          description: Client city.
          type: string
          example: "Santiago"
        postal_code:
          description: Client Zip Code.  
          type: string
          example: "850000"
        create_at:
          description: Registration date.  
          type: string
          example: "2020-09-29"
          format: datetime
        update_at:
          description: Update date.  
          type: string
          example: null
          format: datetime
        subcriptions:
          description: Client subscriptions.  
          type: object
          example: null

    ClientIdResponse:
      description: "Return data from a client insert"
      type: object
      properties:
        status:
          description: Client status.  
          type: string
          example: "active"
        id:
          type: string
          description: Identifier of the transaction created by payku. 
          example: 'cl0be4c8e623c167bc8b29'
        name:
          type: string
          description: Client name. 
          example: 'Joe Doe'
        phone:
          type: string
          description: Client phone. 
          example: "923122312"
        email:
          type: string
          description: Client email. 
          example: "joedoe@gmail.com"
        address:
          description: Client address.
          type: string
          example: "Moneda 101"
        city: 
          description: Client city.
          type: string
          example: "Santiago"
        region:
          description: Client region.
          type: string
          example: "Metropolitana"
        country:
          description: Client country.
          type: string
          example: "Chile"
        postal_code:
          description: Client Zip Code.  
          type: string
          example: "850000"
        create_at:
          description: Registration date.  
          type: string
          example: "2020-09-29"
          format: datetime
        update_at:
          description: Update date.  
          type: string
          example: null
          format: datetime
        subcriptions:
          type: object
          properties:
            plan:
              type: array
              items:
                type: object
                properties:
                  id:
                    description: Identifier of the plan created by payku. 
                    type: string
                    example: "pl9697fb170834ad42dd00"
                  name:
                    description: Plan name.
                    type: string
                    example: "test plan"
                  currency:
                    description: Currency.  
                    type: string
                    example: "CPL"
            cards:
              type: array
              items:
                type: object
                properties:
                  last_4_digits:
                    description: Last 4 digits of the affiliated card. 
                    type: string
                    example: "6622"
                  card_type:
                    description: Card type.
                    type: string  
                    example: "Visa"
            transactions:
              type: array
              items:
                type: object
                properties:
                  created_at:
                    description: Transaction creation date. 
                    type: string
                    example: "2020-09-30 19:58:35"
                  amount:
                    description: Transaction amount.
                    type: string  
                    example: "10000"
                  transaction:
                    description: Transaction number. 
                    type: string
                    example: "204444"
                  authorization_code:
                    description: Authorization code.
                    type: string
                    example: "1234"
                  order:
                    description: Number of order. 
                    type: string
                    example: "001"
                  description:
                    description: Description.
                    type: string 
                    example: "descripcion"  
                  status:
                    description: Transaction status.
                    type: string 
                    example: "success"

    ModifyClientResponse:
      description: "Return data from the modification of a client"
      type: object
      properties:
        status:
          description: Client status.  
          type: string
          example: "active"
        id:
          type: string
          description: Transaction identifier created by payku. 
          example: 'cl0be4c8e623c167bc8b29'
        name:
          type: string
          description: Client name. 
          example: 'Joe Doe Doe'
        phone:
          type: string
          description: Client phone. 
          example: "923122312"
        email:
          type: string
          description: Client email. 
          example: "joedoe@gmail.com"
        address:
          description: Client address.
          type: string
          example: "Moneda 121"
        city: 
          description: Client city.
          type: string
          example: "Santiago"
        region:
          description: Client region.
          type: string
          example: "Metropolitana"
        country:
          description: Client country.
          type: string
          example: "Chile"
        postal_code:
          description: Client Zip Code.  
          type: string
          example: "750000"
        create_at:
          description: Registration date.  
          type: string
          example: "2020-09-29"
          format: datetime
        update_at:
          description: Update date.  
          type: string
          example: "2020-10-2 08:32:52"
          format: datetime
        subcriptions:
          type: object
          description: Client subscriptions.  
          example: null

    DeleteClientResponse:
      description: "Return data deleting a client"
      type: object
      properties:
        status:
          type: string
          description: Client status. 
          example: 'success'
        id:
          type: string
          description: Transaction identifier created by payku. 
          example: 'cl0be4c8e623c167bc8b29'

    DeleteClientMarketResponse:
      description: "Return data deleting a client"
      type: object
      properties:
        status:
          type: string
          description: Client status. 
          example: 'suspended'
        id:
          type: string
          description: Transaction identifier created by payku. 
          example: 'madb93fc00a2cf6f4449'
        
    DeleteAffiliationResponse:
      description: "Return data deleting a membership"
      type: object
      properties:
        status:
          type: string
          description: Membership status. 
          example: 'suspended'
        id:
          type: string
          description: Transaction identifier created by payku.
          example: 'eecd92fdbb8bf615e821'
        
        
    PlanResponse:
      description: "Return data from inserting a plan"
      type: object
      properties:
        status:
          type: string
          description: Status. 
          example: 'success'
        id:
          type: string
          description: Unique plan identifier per payku. 
          example: 'pl4293e97a87195bb9edcd'
        

    DeleteSuscriptionResponse:
      description: "Return data from the deletion of a subscription"
      type: object
      properties:
        id:
          type: string
          description: Transaction identifier created by payku. 
          example: 'sucaab7865dceaff49d8b3'
        status:
          type: string
          description: Status. 
          example: 'success'
    
    CreateSuscriptionResponse:
      description: "Return data from the insertion of data from a subscription"
      type: object
      properties:
        status:
          type: string
          description: Status. 
          example: 'register'
        id:
          type: string
          description: Unique subscription identifier for payku. 
          example: 'sucaab7865dceaff49d8b3'
        url:
          type: string
          description: Url payment and subscription activation. 
          example: 'http://app.payku.cl/gateway/registrosuscripcion?tipoplan=2&plan=true&token=219&valida cion=e6c50ba0e0'

    PlanIdResponse:
      description: "Plan query return data by id"
      type: object
      properties:
        status:
          type: string
          description: Status. 
          example: 'success'
        plans:
          type: object
          properties:
            id:
              description: Unique plan identifier per payku. 
              type: string
              example: "pl4293e97a87195bb9edcd"
            status:
              description: Plan status. 
              type: string
              example: "active"
            name:
              description: Plan name.
              type: string
              example: "Test plan"
            code:
              description: Plan code.
              type: string
              example: "001"
            description:
              description: Plan description.
              type: string
              example: "Test Plan"
            url_notify_payment:
              description:
              type: string
              example: ""
              format: url
            url_notify_suscription:
              description:
              type: string
              example: ""
              format: url
            total_suscription:
              description: Total subscriptions.
              type: integer
              example: 0
            total_suscription_active:
              description: Total active subscriptions.
              type: integer
              example: 0

    PlanAllResponse:
      description: "Plan query return data by id"
      type: object
      properties:
        status:
          type: string
          description: Status. 
          example: 'success'
        plans:
          type: array
          items:
            type: object
            properties:
              id:
                description: Unique plan identifier per payku. 
                type: string
                example: "pl4293e97a87195bb9edcd"
              status:
                description: Plan status. 
                type: string
                example: "active"
              name:
                description: Plan name.
                type: string
                example: "Test plan"
              code:
                description: Plan code.
                type: string
                example: "001"
              description:
                description: Plan description.
                type: string
                example: "Test Plan"
              url_notify_payment:
                description:
                type: string
                example: ""
                format: url
              url_notify_suscription:
                description:
                type: string
                example: ""
                format: url
              total_suscription:
                description: Total subscriptions.
                type: integer
                example: 0
              total_suscription_active:
                description: Total active subscriptions.
                type: integer
                example: 0

    CreateSuTransactionResponse:
      description: "Return data from the insertion of data from a subscription"
      type: object
      properties:
        status:
          description: Transaction status.
          type: string
          example: success
        order:
          description: Order.
          type: string
          example: "001"
        amount:
          description: Amount.
          type: string
          example: "10000"
        transaction:
          description: Transaction number.
          type: string
          example: "204444"

    CardSuscriptionResponse:
      description: "Return data from data insertion of a card"
      type: object
      properties:
        status:
          description: Status.
          type: string
          example: success
        id:
          description: Unique subscription identifier for payku.
          type: string
          example: sucaab7865dceaff49d8b3
        url:
          description: URL paid and subscription activation.
          type: string
          example: http://127.0.0.2/gateway/registrosuscripcion?plan=true&token=246&validacion=d6b32 8e57c&tarjetaadicional=true

    SuscriptionIdResponse:
      description: "Return data from the query of a subscription"
      type: object
      properties:
        status:
          type: string
          description: Subscription status. 
          example: 'register'
        id:
          type: string
          description: Subscription identifier created by payku. 
          example: 'sucaab7865dceaff49d8b7'
        client:
          type: object
          properties:
            id:
              description: Client identifier created by payku.
              type: string
              example: "su7e5e1c0b1bd2e37ec557"
            name:
              description: Client name.
              type: string
              example: "name"
            email:
              description: Client email.
              type: string
              example: "example@domain.com"
            rut:
              description: Unique Roll Tributary.
              type: string
              example: "1.111.111-1"
            phone:
              description: Client phone.
              type: string
              example: "example@domain.com"
            parametros:
              description:
              type: array
        plan:
          type: object
          properties:
            id:
              description: Identifier of the plan created by payku.
              type: string
              example: "pl9697fb170834ad42dd00"
            name:
              description: Plan name.
              type: string
              example: "test plan"
            currency:
              description: Currency.
              type: string
              example: "CPL"
        cards:
          type: object
          properties:
            last_4_digits:
              description: Last 4 digits of the affiliated card. 
              type: string
              example: "6622"
            card_type:
              description: Card type.
              type: string  
              example: "Visa"
        transactions:
          type: array

    TransactionResponse:
      description: "Return data from the creation of a transaction"
      type: object
      properties:
        status:
          type: string
          description: Transaction status. 
          example: 'register'
        id:
          type: string
          description: Transaction identifier created by payku. 
          example: 'clasd12319715c30002ab3ba4dab'
        url:
          type: string
          description: URL to redirect the user. 
          example: "https://BASE-URL/url_de_pago"

    IdentifierResponse:
      description: "Status return data of a transaction"
      type: object
      properties:
        status:
          type: string
          description: Transaction status. 
          example: "success"
        id:
          type: string
          description: Transaction identifier created by Payku. 
          example: '10ac494c1d8da71d98ea'
        created_at:
          type: string
          description: Registration date. 
          example: '2019-10-25 14:10:03'
        order:
          type: string
          description: Number of order. 
          example: '1572023402'
        email:
          type: string
          description: Client email. 
          example: 'alex@onequark.com'
        subject:
          type: string
          description: Description of the purchase order. 
          example: '1572023402'
        amount:
          type: string
          description: Amount. 
          example: '98745'
        payment:
          type: object
          properties:
            media:
              type: string
              description: Payment method, used by the user. 
              example: "Webpay"
            authorization_code:
              type: string
              description: Authorization code.
              example: "107742"
            transaction_id:
              type: string
              description: Identifier of the transaction created by payku. 
              example: "107999"
            verification_key:
              type: string
              description: Verification code created by Payku. 
              example: "6669cbd982ef54c28f2f15fb9dc5262d"
            last_4_digits:
              type: string
              description: Last 4 digits of the affiliated card. 
              example: "1233"
            card_type:
              type: string
              description: Card type. 
              example: ""
            additional:
              type: string 
              example: ""
            currency:
              type: string
              description: Currency. 
              example: "CLP"

    VerificationResponse:
      description: "Return data from the creation of a transaction"
      type: object
      properties:
        order:
          type: string
          description: Transaction identifier created by payku. 
          example: '9123123'
        status:
          type: string
          description: Successful validation = You will receive the string 'VALID'.
                        Validation rejected = You will receive different than 'INVALID'.
          example: "VALID"
    
    EventCreateResponse:
      description: "Return data from creating an event"
      type: object
      properties:
        status:
          type: string
          description: Request status. 
          example: 'success'
        id:
          type: string
          description: Event id. 
          example: '98374'
        event:
          type: string
          description: Event name.
          example: "Event"
        date_event:
          type: datetime
          description: Date on which the event will take place.
          example: "2020-12-20"
        date_payment:
          type: datetime
          description: Payment date of the event, must be greater than the date_event date.
          example: "2020-12-22"
        date_closing_sales:
          type: datetime
          description: Sales closing date, must be less than or equal to date_event.
          example: "2020-12-19 23:59:00"
        url_logo:
          type: string
          description: url that belongs to the event.
          format: url
          example: "https://example.cl/logo_event1.png"
        url_event:
          type: string
          description: url where the event is published.
          format: url
          example: "https://payku.cl/event1"
        distribution:
          type: object
          description: Distribution of transactions.
          properties:
            affiliate:
              type: string
              description: Amount to distribute to beneficiaries.
              example: "100.00"
            service_sale:
              type: string
              description: Amount to distribute in the sales service.
              example: "10.00"
        affiliaction:
          type: object
          description: Affiliate information.
          properties:
            id:
              type: string
              description: Beneficiary identifier.
              example: "b99dfd8193ebfd37d4b9"
            email:
              type: string
              description: Beneficiary email.
              example: "afiliate1@domain.com"
            percent:
              type: string
              description: Percentage which corresponds to the beneficiary.
              example: "100.00"
            status:
              type: string
              description: Beneficiary status.
              example: "pending"
        paymentData:
          type: object
          description: Distribution of beneficiaries.
          properties:
            count:
              type: number
              description: Sales quantity.
              example: 0
            amount_general:
              type: number
              description: General amount of all transactions.
              example: 0
            amount_affiliate:
              type: number
              description: Amount to distribute to beneficiaries.
              example: 0
            fee:
              type: number
              description: Fee.
              example: 0
            balance:
              type: number
              description: Amount to deposit.
              example: 0

    EventIdResponse:
      description: "Return data from creating an event"
      type: object
      properties:
        id:
          type: string
          description: Event identifier. 
          example: '98374'
        event:
          type: string
          description: Event name.
          example: "Event"
        date_event:
          type: datetime
          description: Date on which the event will take place.
          example: "2020-12-20"
        date_payment:
          type: datetime
          description: Payment date of the event, must be greater than the date_event date.
          example: "2020-12-22"
        date_closing_sales:
          type: datetime
          description: Sales closing date, must be less than or equal to date_event.
          example: "2020-12-19 23:59:00"
        url_logo:
          type: string
          description: url logo that belongs to the event.
          format: url
          example: "https://example.cl/logo_event1.png"
        url_event:
          type: string
          description: url that belongs to the event.
          format: url
          example: "https://payku.cl/event1"
        distribution:
          type: object
          description: Distribution of transactions.
          properties:
            affiliate:
              type: string
              description: Amount to distribute to beneficiaries.
              example: "100.00"
            service_sale:
              type: string
              description: Amount to distribute in the sales service.
              example: "10.00"
        affiliaction:
          type: object
          description: Affiliate information.
          properties:
            id:
              type: string
              description: Beneficiary identifier.
              example: "b99dfd8193ebfd37d4b9"
            email:
              type: string
              description: Beneficiary email.
              example: "afiliate1@domain.com"
            percent:
              type: string
              description: Percentage which corresponds to the beneficiary.
              example: "100.00"
            status:
              type: string
              description: Beneficiary status.
              example: "pending"
        paymentData:
          type: object
          description: Distribution of beneficiaries.
          properties:
            count:
              type: number
              description: Sales quantity.
              example: 0
            amount_general:
              type: number
              description: General amount of all transactions.
              example: 0
            amount_affiliate:
              type: number
              description: Amount to distribute to beneficiaries.
              example: 0
            fee:
              type: number
              description: Fee.
              example: 0
            balance:
              type: number
              description: Amount to deposit.
              example: 0

    AdminClientMarketResponse:
      description: "Return data from a client insert"
      type: object
      properties:
        id:
          description: Identifier created by payku. 
          type: string
          example: "madb93fc00a2cf6f4449"
        status:
          description: Client status.
          type: string
          example: "register"
        name:
          description: Client name.
          type: string
          example: "Joe Doe"
        phone:
          description: Client phone.
          type: string
          example: "923122312"
        email:
          description: Client email.
          type: string
          format: email
          example: joedoe@gmail.com
        bank:
          type: object
          properties:
            sbif:
              description: Bank code.
              type: string
              example: "1234"
            type:
              description: Account type.(1 = Checking account , 2 = Vista/Cuenta RUT, 3 = Saving account)
              type: string
              example: "1"
            num:
              description: Client's account number.
              type: string
              example: "12312313121"
            rut: 
              description: Single Tax Registry.
              type: string
              example: "111111111"
        affiliations:
          description: Number of affiliations.
          type: integer
          example: 0
        created_at:
          description: Registration date.
          type: string
          example: "2020-09-28 20:42:59"
          format: datetime
        update_at:
          description: Update date.
          type: string
          example: "null"
          format: datetime

    AdminAffiliationResponse:
      description: "Return data from the insertion of an affiliate"
      type: object
      properties:
        id:
          description: Unique subscription identifier for payku. 
          type: string
          example: "sucaab7865dceaff49d8b3"
        status:
          description: Status.
          type: string
          example: "register"
        name:
          description: Membership name.
          type: string
          example: "name"
        token:
          description: Affiliate Token that is entered into the merchant.
          type: string
          example: "eecd92fdbb8bf615e8215d6fbb30bb6ae6f82c9e1810f85b65bbeb472794c4a4"
        percentage:
          description: Payku user affiliation percentage.
          type: string
          example: "20.00"
        affiliations:
          type: array
          items:
            type: object
            properties:
              id:
                description: Identifier.
                type: string
                example: "ma9fd16221a9645b0036"
              name:
                description: Affiliate name.
                type: string
                example: "name"
              percentage:
                description: Percentage corresponding to each affiliate.
                type: string
                example: "80.00"

    Error:
      type: object
      properties:
        status:
          type: string
          description: Request status.
          example: failed
        type:
          type: string
          description: Type of error.
          example: Unprocessable Entity
        message_error:
          type: string
          description: Error message.
          example: Array\n(\n    [order] => invalid\n)\n
    
    Error400:
      type: object
      properties:
        status:
          type: string
          description: Request status.
          example: failed
        type:
          type: string
          description: Type of error.
          example: Unprocessable Entity
        message_error:
          type: string
          description: Error message.
          example: Array\n(\n    [order] => invalid\n)\n
    
    Error400Event:
      type: object
      properties:
        status:
          type: string
          description: Request status.
          example: failed
        type:
          type: string
          description: Type of error.
          example: Unprocessable Entity
        message_error:
          type: string
          description: Error message.
          example: "Array\n(\n    [event] => is empty\n)\n"

    Error400get:
      type: object
      properties:
        status:
          type: string
          description: Request status.
          example: failed
        type:
          type: string
          description: Type of error.
          example: Unprocessable Entity
        message_error:
          type: string
          description: Error message.
          example: Array\n(\n    [id] => is Empty\n)\n
    
    Error401:
      type: object
      properties:
        type:
          type: string
          description: Request status.
          example: Unauthorized
        message_error:
          type: object
          properties:
            error:
              type: string
              description: Error message.
              example: waiting token public
    
    Error404:
      type: object
      properties:
        status:
          type: string
          description: Request status.
          example: failed
        type:
          type: string
          description: Type of error.
          example: Not Found
        id:
          type: string
          description: Id information
          example: is not valid